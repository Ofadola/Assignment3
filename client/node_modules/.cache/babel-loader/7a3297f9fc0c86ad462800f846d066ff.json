{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bunshy BOT\\\\Desktop\\\\Assignment3\\\\client\\\\src\\\\components\\\\Select.jsx\";\nimport React, { useContext, useState } from 'react';\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { GameContext } from '../contexts/GameContext';\nimport './Select.css';\nconst avatars = ['cat', 'horse', 'lion', 'mouse', 'owl', 'pig', 'rabbit'];\n\nconst Select = () => {\n  const {\n    joinRoom,\n    currentGame,\n    setPlayer\n  } = useContext(GameContext);\n  const [avatar, setAvatar] = useState('cat');\n  const [displayName, setDisplayName] = useState('');\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const gameId = query.get('gameid');\n  const isHost = query.get('ishost');\n\n  const handleSubmit = async () => {\n    console.log('JOINING');\n    joinRoom({\n      player: {\n        avatarSrc: `/images/avatars/${avatar}.png`,\n        username: displayName\n      },\n      gameId,\n      isHost: isHost === 'true'\n    });\n    setPlayer({\n      player: {\n        avatarSrc: `/images/avatars/${avatar}.png`,\n        username: displayName\n      },\n      isHost: isHost === 'true'\n    });\n  };\n\n  if (!gameId || !isHost || isHost !== 'true' && isHost !== 'false') {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (currentGame) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: `/game?username=${displayName}&gameid=${gameId}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Dixit\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"select-main\",\n    onSubmit: e => {\n      e.preventDefault();\n      handleSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"dixit-input\",\n    placeholder: \"Display Name\",\n    required: true,\n    value: displayName,\n    onChange: e => setDisplayName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: `/images/avatars/${avatar}.png`,\n    className: \"chosen-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Select Avatar\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, avatars.map(av => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-ex\",\n    onClick: () => setAvatar(av),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-chosen\",\n    style: {\n      display: av === avatar ? 'block' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"\\u2714\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: `/images/avatars/${av}.png`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"green-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"CONFIRM\")));\n};\n\nexport default Select;","map":{"version":3,"sources":["C:/Users/Bunshy BOT/Desktop/Assignment3/client/src/components/Select.jsx"],"names":["React","useContext","useState","Redirect","useHistory","useLocation","GameContext","avatars","Select","joinRoom","currentGame","setPlayer","avatar","setAvatar","displayName","setDisplayName","location","query","URLSearchParams","search","gameId","get","isHost","handleSubmit","console","log","player","avatarSrc","username","e","preventDefault","target","value","map","av","display"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Redirect, useHistory, useLocation } from 'react-router-dom';\r\nimport { GameContext } from '../contexts/GameContext';\r\nimport './Select.css';\r\n\r\nconst avatars = [\r\n    'cat',\r\n    'horse',\r\n    'lion',\r\n    'mouse',\r\n    'owl',\r\n    'pig',\r\n    'rabbit',\r\n]\r\n\r\nconst Select = () => {\r\n    const { joinRoom, currentGame, setPlayer } = useContext(GameContext);\r\n    const [avatar, setAvatar] = useState('cat');\r\n    const [displayName, setDisplayName] = useState('');\r\n    const location = useLocation();\r\n    const query = new URLSearchParams(location.search);\r\n    const gameId = query.get('gameid');\r\n    const isHost = query.get('ishost');\r\n\r\n    const handleSubmit = async () => {\r\n        console.log('JOINING');\r\n        joinRoom({\r\n            player: {\r\n                avatarSrc: `/images/avatars/${avatar}.png`,\r\n                username: displayName,\r\n            },\r\n            gameId,\r\n            isHost: isHost === 'true',\r\n        });\r\n        setPlayer({\r\n            player: {\r\n                avatarSrc: `/images/avatars/${avatar}.png`,\r\n                username: displayName,\r\n            },\r\n            isHost: isHost === 'true',\r\n        });\r\n    }\r\n\r\n    if (!gameId || !isHost || (isHost !== 'true' && isHost !== 'false')) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    if (currentGame) {\r\n        return <Redirect to={`/game?username=${displayName}&gameid=${gameId}`}/>\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"logo\">\r\n                Dixit\r\n            </div>\r\n            <form className=\"select-main\"\r\n            onSubmit={e => {\r\n                e.preventDefault();\r\n                handleSubmit();\r\n            }}>\r\n                <input type=\"text\" className=\"dixit-input\" placeholder=\"Display Name\" \r\n                required value={displayName} onChange={e => setDisplayName(e.target.value)}/>\r\n                <img src={`/images/avatars/${avatar}.png`} className=\"chosen-avatar\"/>\r\n                <label>Select Avatar</label>\r\n                <div className=\"avatars\">\r\n                    {avatars.map(av => \r\n                    <div className=\"avatar-ex\"\r\n                    onClick={() => setAvatar(av)}>\r\n                        <div className=\"avatar-chosen\" style={{\r\n                            display: av === avatar ? 'block' : 'none',\r\n                        }}>âœ”</div>\r\n                        <img src={`/images/avatars/${av}.png`}/>\r\n                    </div>)}\r\n                </div>\r\n                <button className=\"green-btn\" type=\"submit\">CONFIRM</button>\r\n            </form>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Select;"]},"metadata":{},"sourceType":"module"}